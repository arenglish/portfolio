<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><meta name="exporter-version" content="Evernote Mac 6.13.1 (455786)"/><meta name="author" content="Austin R English"/><meta name="created" content="2016-01-14 20:35:00 +0000"/><meta name="source" content="desktop.mac"/><meta name="updated" content="2016-12-19 02:58:17 +0000"/><title>40_MCU Programming &amp; System Prototyping Continued</title></head><body>
<div>Before testing the PWM signal on the motors, I wanted to connect one of the encoders to the motor so we could try to track motor motion.  The encoder fits over the back of the motor as in <b>Figure 1</b> and provides six connections (GND, OutA, OutB, Vcc, M1, &amp; M2).  OutA and OutB are the two offset pulse signals sent out from the encoder, 12 pulses for every revolution.  Vcc and GND power the encoder, and M1/M2 are the motor terminals.</div>
<div><img src="40_MCU%20Programming%20&amp;%20System%20Prototyping%20Continued.resources/IMG_20160120_165028.jpg" height="1536" width="2048"/></div>
<div><i><b>Figure 1:  Encoder Attached/Soldered Onto Back Shaft of Geared DC Motor</b></i></div>
<div><br/></div>
<div>After soldering the encoder onto the back of the motor, I rebuilt the motor driver circuit (Inverters, AND’s, &amp; H-Bridges - <b>Figure 2</b>) onto a more compact breadboard and plugged the MCU’s PWM signal into the driver circuit (PWM signal was previously plugged only into an LED).  The direction signal input for the driver circuit was connected to ground for now (would cause the motor to turn in one direction, 5V would turn it the other direction).  With the H-Bridges using a driving voltage rail of 5V, the PWM signal from the dsPIC30 was relayed to the motor and caused it to run at a variable speed depending on what duty cycle the signal was set to.  </div>
<div><img src="40_MCU%20Programming%20&amp;%20System%20Prototyping%20Continued.resources/IMG_20160120_164955.jpg" height="1536" width="2048"/></div>
<div><i><b>Figure 2: Motor Driver Circuit (left) with dsPIC30 (right)</b></i></div>
<div><br/></div>
<div>I tried monitoring the encoder output pulses with the ELVIS Board’s oscilloscope, but the received signal was too messy to interpret as digital pulses.  I thought the motor might be turning too fast for the Hall-Effect sensors in the encoder to recognize, but the wires used to connect to the oscilloscope were extremely long (2m), so I decided to program something later on the MCU that would indicate how many pulses were being received, since the signals were probably too low power to transmit over to the ELVIS Board at a high frequency.</div>
</body></html>